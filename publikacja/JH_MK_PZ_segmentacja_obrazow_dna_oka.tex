\documentclass[conference]{IEEEtran}
\IEEEoverridecommandlockouts
% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.
\usepackage{cite}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{polski}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
    
\usepackage[hidelinks]{hyperref}
\begin{document}

\title{Metody segmentacji naczyń krwionośnych na obrazach dna oka}

\author{
\IEEEauthorblockN{Jakub Harasymowicz}
\IEEEauthorblockA{
@student.pwr.edu.pl}
\and
\IEEEauthorblockN{Maciej Kinal}
\IEEEauthorblockA{
221358@student.pwr.edu.pl}
\and
\IEEEauthorblockN{Patryk Ząbkiewicz}
\IEEEauthorblockA{
221394@student.pwr.edu.pl}
}

\maketitle

\begin{abstract}
W~niniejszej pracy zostaje podjęta próba przetworzenia obrazów uzyskanych podczas badania dna oka, a~dokładniej mówiąc -- ich segmentacji za pomocą różnych metod. Ma to na celu wyodrębnienie naczyń krwionośnych, których nienaturalna ilość i~rozmiar może wskazywać na chorobę zwaną \textit{retinopatią cukrzycową}. Posegmentowane obrazy dna oka uwidaczniające naczynia krwionośne mogą stanowić jedną z~cech, która może zostać wykorzystana w~algorytmach uczenia maszynowego do automatyzacji detekcji retinopatii cukrzycowej, która z kolei stanowi globalny problem zdrowotny.
\end{abstract}

\begin{IEEEkeywords}
fundus image processing, fundus image segmentation, diabetic retinopathy
\end{IEEEkeywords}

\section{Wprowadzenie}
Jednym z~powikłań trwającej długi okres czasu cukrzycy może być negatywnie oddziaływanie na małe naczynia krwionośne w~siatkówce oka, prowadzące do choroby zwanej \textit{retinopatią cukrzycową}. Choroba ta przebiega w~kilku etapach zaawanasowania, powodując różne dolegliwości wzroku, w~najgorszych przypadkach wywołując nawet całkowitą ślepotę. Dotyczy to około 2,4 miliona przypadków na świecie, stawiając tym samym retinopatie na 5 miejscu, jeśli chodzi o~przyczyny utraty wzroku u~osób w~wieku 25-75 lat \cite{b1}.

Jedną z technik obrazowania, która umożliwia śledzenie rozwoju retinopatii jest obrazowanie dna oka (oftalmoskopia, fundoskopia). Obraz dna oka pozwala uwidocznić takie kliniczne zmiany jak mikrotętniaki (drobne czerwone okrągłe plamki), wysięki (nieregularne żółte plamki), wylewy do ciała szklistego. W~najpóźniejszym stadium retinopatii cukrzycowej -- retinopatii proliferacyjnej -- może objawiać się także w~zamykaniu naczyń oraz proliferacji, czyli powstawaniu nowych naczyń w~znaczącej ilości \cite{b2}.

Jako że duża ilość drobnych naczyń krwionośnych może wskazywać na retinopatię cukrzycową, informację tę można wykorzystać w~automatyzacji rozpoznawania tej choroby. W~tym celu, w~niniejszej pracy zostanie przeprowadzone przetworzenie obrazów -- segmentacja -- mające na celu wyodrębnienie naczyń krwionośnych z~obrazów dna oka.

\section{Materiały i metody}
\subsection{Baza obrazów}
W~projekcie wykorzystano ogólnodostępny zbiór DRIVE (Digital Retinal Images for Vessel Extraction) \cite{b6}. Zbiór ten zawiera 40 kolorowych obrazów dna oka, pochodzących od osób w~wieku 31--86 lat. Każdy obraz ma wymiary 584x565 pikseli. Baza jest podzielona na zbiór uczący oraz treningowy, gdzie każdy zawiera po 20 obrazów. Wśród tych obrazów 33 nie wykazują żadnych symptomów patologicznych, pozostałe 7 uwidaczniają oznaki charakterystyczne dla retinopatii cukrzycowej (3 znajdują się w~zbiorze uczącym, a 4 są obecne w zbiorze testowym) \cite{b4}.
\subsection{Pre-processing}
Wstępne przetworzenie obrazu wejściowego ma decydujące znaczenie dla kolejnych etapów -- segmentacji, klasyfikacji obrazów, czy też na wydajność obliczeniową. Jak wspomniano w~\cite{b5} różnego rodzaje operacje morfologiczne na obrazach, takie jak dylacja, erozja, opening, closing, transformacja top-hat, czy też techniki usuwające szum z~obrazu jak np. \textit{median filter} pozwalają uwydatnić pewne regiony, kształty, krawędzie, granice obrazu, co podnosi skuteczność algorytmów stosowanych w~późniejszych krokach przetwarzania obrazu. 
(...fragment zostanie uzupełniony o techniki, które zostaną użyte w projekcie...)

\subsection{Metody segmentacji}
\subsubsection{Segmentacja progowa (ang. \textit{threshold segmentation})}

Ten rodzaj segmentacji polega na wyborze progu, powyżej którego wybrany piksel ustawiany zostaje na pierwszy plan (ang. \textit{foreground}), a w przeciwym razie na tło ((ang. \textit{background}). Istotny w tym przypadku jest wybór metody progowania. Po wstępnym zapoznaniu się i przeanalizowaniu kilku dostępnych sposobów, wybrano adaptacyjne lokalne progowanie (ang.  \textit{local adaptive thresholding}). Metoda polega na podzieleniu obrazu na mniejsze części (okna) i wyliczeniu statystyk, takich jak średnia oraz mediana sąsiadujących pikseli, a następnie aktualizacji wartości progowej. W tym przypadku jednak zdecydowano się zastosować metodę zwaną \textit{mean-C threshold}, w której występuje stała \textit{C}. Róznica polega na tym, że piksele leżące w jednakowej okolicy są przypisywane do tła. Przykład algorytmu segmentacji metodą progową \textit{mean-C} został przestawiony w pracy \cite{b7}:
\begin{enumerate}
\item Obliczenie średniej wartości pikseli w oknie N $\times$ N
\item Splot wartości pikseli obrazu ze średnią
\item Otrzymanie obrazu różnicowego poprzez odjęcie \\
splotu od obrazu pierwotnego (po preprocessingu)
\item Nałożenie na obraz różnicowy progu ze stałą \\
wartością C
\item Wyliczenie uzupełnienia otrzymanego obrazu
\end{enumerate}

Do zastosowania algorytmu \textit{mean-C} potrzebne jest wyliczenie dwóch wartości: stałej C oraz rozmiaru okna. \\
W obu przypadkach zostanie to zrobione empirycznie.\\


\subsubsection{Segmentacja za pomocą analizy skupisk}


Segmentacja za pomocą analizy skupisk (z~ang. \textit{clustering segmentation}) może bazować na algorytmie K-średnich, który kategoryzuje się jako jeden z~nienadzorowanych algorytmów uczenia maszynowego. Ogólna koncepcja polega na tym, że punkty danych wejściowych klasyfikuje się na więcej niż jedną klasę w~oparciu o~odległość między każdym punktem i~od punktu centralnego dla danej klasy zwanego centroidem.
W~ujęciu segmentacji obrazów algorytm przedstawia się następująco \cite{b5}:
\begin{enumerate}
\item Obliczyć histogram intensywności (rozkład intensywności)
\item Centroidy są inicjalizowane \textit{k}-losowymi intensywnościami
\item  Przypisać punkty do klastrów zależnie od ich odległości (najczęściej odległosć Euklidesowa) od centroidów intensywności
\label{enumerate-item:k-mean-startloop}
\item \label{enumerate-item:k-mean-endloop}Dla każdego klastra obliczyć nowy centroid
\item Punkty \ref{enumerate-item:k-mean-startloop}--\ref{enumerate-item:k-mean-endloop} powtarzać do osiągnięcia stałej wartości przynależności skupienia albo do osiągnięcia maksymalnej liczby iteracji zdefiniowanej przez użytkownika.
\end{enumerate}


\section{Wyniki}

\section{Podsumowanie}

\begin{thebibliography}{00}
\bibitem{b1} R. Lee, T.Y. Wong, C. Sabanayagam, ,,Epidemiology of diabetic retinopathy, diabetic macular edema and related vision loss'', Eye and Vision, vol. 2 pp. 17, Wrzesień 2015.
\bibitem{b2} M.I. Lopez-Galvez, F. Manco Lavado, J.C. Pastor, ,,Diabetic Retinopathy: An Overview'', Handbook of Nutrition, Diet and the Eye, pp. 41--51, 2014.
\bibitem{b6} S. Tatiraju, A. Mehta, ,,Image Segmentation using k-means clustering, EM and Normalized Cuts'', vol. 1, pp. 1--7, 2008
\bibitem{b4} R. GeethaRahmani, L. Balasubramanian, ,,Retinal blood vessel segmentation employing image processing and data mining techniques for comuterized retinal image analysis'', vol. 36 , pp. 102--118 , 2016
\bibitem{b7} J. Dash, N. Bhoi, "A thresholding based technique to extract retinal blood vessels from fundus images", Future Computing and Informatics Journal vol. 2, pp. 103--109, 2017 
\bibitem{b5} G. Hassan, N. El-Bendary, A.E. Hassanien, A. Fahmy, A.M. Shoeb, V. Snasel, ,,Retinal blood vessel segmentation approach based on mathematical morphology'', Procedia Computer Science, vol. 65, pp. 612--622, 2015.

\end{thebibliography}

\end{document}
